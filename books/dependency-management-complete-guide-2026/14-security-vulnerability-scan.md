---
title: "セキュリティ脆弱性スキャン"
---

# セキュリティ脆弱性スキャン

## セキュリティの重要性

セキュリティ脆弱性の約70%は、サードパーティ依存関係から発生すると言われています。

### 主な脆弱性タイプ

- Remote Code Execution（RCE）
- Cross-Site Scripting（XSS）
- SQL Injection
- Prototype Pollution
- Denial of Service（DoS）

## npm audit

```bash
# 監査実行
npm audit

# 自動修正
npm audit fix

# 破壊的変更を含む修正
npm audit fix --force

# JSON出力
npm audit --json

# 特定の深刻度以上のみ
npm audit --audit-level=high
```

### CI/CDでの自動化

```yaml
# .github/workflows/security.yml
name: Security Scan

on:
  push:
  schedule:
    - cron: '0 2 * * 1'  # 毎週月曜2時

jobs:
  audit:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
      - run: npm ci
      - run: npm audit --audit-level=moderate
```

## Snyk

```bash
# インストール
npm install -g snyk

# 認証
snyk auth

# プロジェクトをスキャン
snyk test

# 監視
snyk monitor
```

### Snyk設定

```yaml
# .snyk
version: v1.22.1

ignore:
  'SNYK-JS-LODASH-567746':
    - lodash:
        reason: 修正待ち
        expires: '2024-12-31T00:00:00.000Z'
```

## Dependabot

```yaml
# .github/dependabot.yml
version: 2
updates:
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "daily"
    
    labels:
      - "dependencies"
      - "security"
    
    open-pull-requests-limit: 10
```

## CVSS（脆弱性評価指標）

```
CVSS Score:
0.0       : None
0.1-3.9   : Low
4.0-6.9   : Medium
7.0-8.9   : High
9.0-10.0  : Critical
```

## まとめ

定期的なセキュリティスキャンと迅速な対応が重要です。

次章では、依存関係更新戦略について解説します。
