---
title: "ç¬¬5ç«  ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯"
---

# ç¬¬5ç«  ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯

PRä½œæˆå‰ã®ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚µã‚¤ã‚¯ãƒ«ã‚’çŸ­ç¸®ã—ã€å“è³ªã‚’å‘ä¸Šã•ã›ã‚‹æœ€ã‚‚åŠ¹æœçš„ãªæ–¹æ³•ã§ã™ã€‚æœ¬ç« ã§ã¯ã€åŠ¹æœçš„ãªã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®å…·ä½“çš„ãªãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å­¦ã³ã¾ã™ã€‚

## ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®é‡è¦æ€§

### ãªãœã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒé‡è¦ã‹

```typescript
const selfReviewBenefits = {
  åŠ¹ç‡åŒ–: {
    description: 'ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚µã‚¤ã‚¯ãƒ«ã®çŸ­ç¸®',
    impact: 'ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾€å¾©å›æ•°ãŒå¹³å‡ã§50%å‰Šæ¸›ã•ã‚Œã‚‹å‚¾å‘',
  },
  å“è³ªå‘ä¸Š: {
    description: 'ãƒã‚°ã®æ—©æœŸç™ºè¦‹',
    impact: 'ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ãƒã‚°ã®30-40%ãŒäº‹å‰ã«ç™ºè¦‹å¯èƒ½',
  },
  å­¦ç¿’: {
    description: 'è‡ªå·±ã®æˆé•·æ©Ÿä¼š',
    impact: 'è‡ªåˆ†ã®ã‚³ãƒ¼ãƒ‰ã‚’å®¢è¦³çš„ã«è¦‹ã‚‹ç¿’æ…£ãŒèº«ã«ã¤ã',
  },
  ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼ã¸ã®é…æ…®: {
    description: 'ãƒ¬ãƒ“ãƒ¥ãƒ¼è² æ‹…ã®è»½æ¸›',
    impact: 'ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼ãŒã‚ˆã‚Šé«˜åº¦ãªè¦³ç‚¹ã«é›†ä¸­ã§ãã‚‹',
  },
};
```

å‚è€ƒ: [Google Engineering Practices - Self Review](https://google.github.io/eng-practices/review/developer/)

## ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°

### ã‚³ãƒŸãƒƒãƒˆå‰

```bash
# å¤‰æ›´å†…å®¹ã®ç¢ºèª
git diff

# ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°å‰ã®æœ€çµ‚ç¢ºèª
git add -p  # å¯¾è©±çš„ã«ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
```

### PRä½œæˆå‰

```bash
# ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã‚¨ãƒªã‚¢ã®ç¢ºèª
git diff --cached

# çµ±è¨ˆæƒ…å ±ã®ç¢ºèª
git diff --stat --cached
```

## ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### å¿…é ˆé …ç›®

```markdown
## ãƒ‡ãƒãƒƒã‚°ã‚³ãƒ¼ãƒ‰å‰Šé™¤
- [ ] console.log/printæ–‡ã‚’å‰Šé™¤ã—ãŸã‹
- [ ] debuggeræ–‡ã‚’å‰Šé™¤ã—ãŸã‹
- [ ] ãƒ†ã‚¹ãƒˆç”¨ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’å‰Šé™¤ã—ãŸã‹

## ã‚³ãƒ¼ãƒ‰æ•´ç†
- [ ] ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã—ãŸã‹
- [ ] ä¸è¦ãªimport/includeã‚’å‰Šé™¤ã—ãŸã‹
- [ ] æœªä½¿ç”¨ã®å¤‰æ•°ã‚’å‰Šé™¤ã—ãŸã‹

## TODOç®¡ç†
- [ ] TODOã‚³ãƒ¡ãƒ³ãƒˆã«æ‹…å½“è€…ãŒã‚ã‚‹ã‹
- [ ] TODOã‚³ãƒ¡ãƒ³ãƒˆã«æœŸé™ãŒã‚ã‚‹ã‹
- [ ] FIXMEãŒé©åˆ‡ã«è¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹ã‹

## ãƒ†ã‚¹ãƒˆ
- [ ] æ–°æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã—ãŸã‹
- [ ] å…¨ã¦ã®ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã™ã‚‹ã‹
- [ ] ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒä½ä¸‹ã—ã¦ã„ãªã„ã‹

## é™çš„ãƒã‚§ãƒƒã‚¯
- [ ] Lintã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹
- [ ] å‹ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹
- [ ] ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹ã‹

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [ ] READMEã‚’æ›´æ–°ã—ãŸã‹ï¼ˆå¿…è¦ãªå ´åˆï¼‰
- [ ] APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ã—ãŸã‹ï¼ˆå¿…è¦ãªå ´åˆï¼‰
- [ ] CHANGELOGã‚’æ›´æ–°ã—ãŸã‹ï¼ˆå¿…è¦ãªå ´åˆï¼‰
```

## å·®åˆ†ç¢ºèªã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯

### GitHub/GitLabã®UIã‚’æ´»ç”¨

```typescript
// PRä½œæˆå‰ã«GitHub UIã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
const reviewSteps = [
  '1. ãƒ‰ãƒ©ãƒ•ãƒˆPRã‚’ä½œæˆ',
  '2. Files changedã‚¿ãƒ–ã§å·®åˆ†ã‚’ç¢ºèª',
  '3. æ°—ã«ãªã‚‹ç®‡æ‰€ã«ã‚»ãƒ«ãƒ•ã‚³ãƒ¡ãƒ³ãƒˆ',
  '4. å•é¡ŒãŒã‚ã‚Œã°ä¿®æ­£',
  '5. æº–å‚™ãŒã§ããŸã‚‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼',
];
```

### ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã®ç¢ºèª

```bash
#!/bin/bash
# self-review.sh

echo "=== Self Review ==="
echo ""

# 1. å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
echo "Changed files:"
git diff --cached --name-only
echo ""

# 2. å„ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
git diff --cached --name-only | while read file; do
  echo "=== $file ==="
  git diff --cached "$file"
  echo ""
  read -p "ã“ã®å¤‰æ›´ã§OK? (y/n): " answer
  if [ "$answer" != "y" ]; then
    git reset HEAD "$file"
    echo "  âœ— Unstaged: $file"
  else
    echo "  âœ“ OK: $file"
  fi
  echo ""
done

echo "Self review completed!"
```

## ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®è¦³ç‚¹

### 1. ã‚³ãƒ¼ãƒ‰å“è³ª

```typescript
// ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚ã®è³ªå•ãƒªã‚¹ãƒˆ
const codeQualityQuestions = [
  'å‘½åã¯é©åˆ‡ã§æ„å›³ãŒæ˜ç¢ºã‹ï¼Ÿ',
  'é–¢æ•°ã¯å˜ä¸€è²¬ä»»ã‚’æŒã£ã¦ã„ã‚‹ã‹ï¼Ÿ',
  'é‡è¤‡ã‚³ãƒ¼ãƒ‰ã¯ãªã„ã‹ï¼Ÿ',
  'ãƒã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼ã‚’é¿ã‘ã¦ã„ã‚‹ã‹ï¼Ÿ',
  'ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’è€ƒæ…®ã—ã¦ã„ã‚‹ã‹ï¼Ÿ',
];

// ãƒã‚§ãƒƒã‚¯ä¾‹
function selfReviewCodeQuality(code: string): Review {
  const issues: Issue[] = [];

  // é•·ã„é–¢æ•°ã‚’ãƒã‚§ãƒƒã‚¯
  const functionLines = getFunctionLines(code);
  if (functionLines > 50) {
    issues.push({
      type: 'function-too-long',
      message: `é–¢æ•°ãŒ${functionLines}è¡Œã‚ã‚Šã¾ã™ã€‚åˆ†å‰²ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚`,
    });
  }

  // ãƒã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯
  const magicNumbers = findMagicNumbers(code);
  if (magicNumbers.length > 0) {
    issues.push({
      type: 'magic-numbers',
      message: `ãƒã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼ãŒ${magicNumbers.length}å€‹ã‚ã‚Šã¾ã™: ${magicNumbers.join(', ')}`,
    });
  }

  return { issues };
}
```

### 2. ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

```bash
# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã®ç¢ºèª
npm run test:coverage

# æ–°ã—ã„ã‚³ãƒ¼ãƒ‰ã®ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç¢ºèª
git diff --name-only | grep -E '\.(ts|js)$' | while read file; do
  echo "Coverage for $file:"
  # ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ„ãƒ¼ãƒ«ã§å€‹åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
done
```

### 3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

```typescript
// ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚»ãƒ«ãƒ•ãƒã‚§ãƒƒã‚¯
const securityChecks = {
  injection: [
    'SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–ã¯ã‚ã‚‹ã‹ï¼Ÿ',
    'ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã‚¯ã‚¨ãƒªã‚’ä½¿ã£ã¦ã„ã‚‹ã‹ï¼Ÿ',
  ],
  auth: [
    'èªè¨¼ãƒã‚§ãƒƒã‚¯ãŒã‚ã‚‹ã‹ï¼Ÿ',
    'èªå¯ãƒã‚§ãƒƒã‚¯ãŒã‚ã‚‹ã‹ï¼Ÿ',
  ],
  secrets: [
    'APIã‚­ãƒ¼ã‚’ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã—ã¦ã„ãªã„ã‹ï¼Ÿ',
    'ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ã£ã¦ã„ã‚‹ã‹ï¼Ÿ',
  ],
  xss: [
    'ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã—ã¦ã„ã‚‹ã‹ï¼Ÿ',
    'HTMLã®å‹•çš„ç”ŸæˆãŒå®‰å…¨ã‹ï¼Ÿ',
  ],
};
```

## ã‚»ãƒ«ãƒ•ã‚³ãƒ¡ãƒ³ãƒˆã®æ´»ç”¨

### ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼ã¸ã®ã‚¬ã‚¤ãƒ‰

```typescript
// PRä½œæˆæ™‚ã«è‡ªåˆ†ã§ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ 
const selfComments = [
  {
    location: 'src/utils/validation.ts:45',
    comment: `
[Note] ã“ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã¯è¤‡é›‘ã§ã™ãŒã€
ä»•æ§˜æ›¸ã®è¦ä»¶3.2.1ã«å¾“ã£ã¦ã„ã¾ã™ã€‚

ç‰¹ã«ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®å‡¦ç†ã«ã¤ã„ã¦ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚
    `,
  },
  {
    location: 'src/api/users.ts:120',
    comment: `
[Question] ã“ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã§ååˆ†ã§ã—ã‚‡ã†ã‹ï¼Ÿ
ä»–ã«è€ƒæ…®ã™ã¹ãã‚±ãƒ¼ã‚¹ãŒã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„ã€‚
    `,
  },
];
```

## ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ„ãƒ¼ãƒ«

### è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¾‹

```typescript
// scripts/pre-pr-check.ts
import { exec } from 'child_process';
import { promisify } from 'util';

const execAsync = promisify(exec);

async function prePRCheck() {
  console.log('ğŸ” Pre-PR Check Starting...\n');

  const checks = [
    { name: 'Lint', command: 'npm run lint' },
    { name: 'Type Check', command: 'npm run type-check' },
    { name: 'Test', command: 'npm test' },
    { name: 'Build', command: 'npm run build' },
  ];

  let allPassed = true;

  for (const check of checks) {
    try {
      console.log(`Running ${check.name}...`);
      await execAsync(check.command);
      console.log(`âœ… ${check.name} passed\n`);
    } catch (error) {
      console.error(`âŒ ${check.name} failed\n`);
      console.error(error.stdout);
      allPassed = false;
    }
  }

  if (allPassed) {
    console.log('âœ¨ All checks passed! Ready for PR.');
  } else {
    console.error('âš ï¸  Some checks failed. Please fix before creating PR.');
    process.exit(1);
  }
}

prePRCheck();
```

### Git Hooksæ´»ç”¨

```bash
# .git/hooks/pre-commit

#!/bin/bash

echo "Running pre-commit checks..."

# Lint
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ Lint failed"
  exit 1
fi

# Type check
npm run type-check
if [ $? -ne 0 ]; then
  echo "âŒ Type check failed"
  exit 1
fi

echo "âœ… Pre-commit checks passed"
```

å‚è€ƒ: [Git Hooks Documentation](https://git-scm.com/docs/githooks)

## ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾Œã®ãƒã‚§ãƒƒã‚¯

### PRèª¬æ˜ã®å……å®Ÿ

```markdown
## PR Description Template

### å¤‰æ›´ã®æ¦‚è¦
<!-- ä½•ã‚’å¤‰æ›´ã—ãŸã‹ã€ãªãœå¤‰æ›´ã—ãŸã‹ -->

### è‡ªå·±ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœ
- âœ… å…¨ã¦ã®è‡ªå‹•ãƒã‚§ãƒƒã‚¯ãŒæˆåŠŸ
- âœ… ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç¶­æŒ
- âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯å®Œäº†
- âš ï¸  ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®å½±éŸ¿: è¦ãƒ¬ãƒ“ãƒ¥ãƒ¼

### ç‰¹ã«è¦‹ã¦ã»ã—ã„ãƒã‚¤ãƒ³ãƒˆ
1. src/utils/validation.ts ã®è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯
2. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å¦¥å½“æ€§

### ç¢ºèªæ¸ˆã¿é …ç›®
- [x] ãƒ‡ãƒãƒƒã‚°ã‚³ãƒ¼ãƒ‰å‰Šé™¤
- [x] ä¸è¦ãªimportå‰Šé™¤
- [x] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
```

## ã¾ã¨ã‚

åŠ¹æœçš„ãªã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ãƒã‚¤ãƒ³ãƒˆ:

- **äº‹å‰ãƒã‚§ãƒƒã‚¯**: è‡ªå‹•ãƒ„ãƒ¼ãƒ«ã§æ©Ÿæ¢°çš„ãªã‚¨ãƒ©ãƒ¼ã‚’é™¤å»
- **å·®åˆ†ç¢ºèª**: æ„å›³ã—ãªã„å¤‰æ›´ãŒãªã„ã‹ç¢ºèª
- **ã‚»ãƒ«ãƒ•ã‚³ãƒ¡ãƒ³ãƒˆ**: ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼ã‚’ã‚¬ã‚¤ãƒ‰
- **ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**: ä¸€è²«ã—ãŸå“è³ªã‚’ä¿ã¤

æ¬¡ç« ã‹ã‚‰ã¯ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹åˆ¥ã®è©³ç´°ã‚¬ã‚¤ãƒ‰ã«å…¥ã‚Šã¾ã™ã€‚ã¾ãšç¬¬6ç« ã§æ©Ÿèƒ½æ€§ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«ã¤ã„ã¦å­¦ã³ã¾ã™ã€‚
